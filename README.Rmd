---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# ModelOptimizationIR

## Installation

You can install the development version of ModelOptimizationIR like so:

``` r
install(devtools)
devtools::install_github("anibalsilva1/ModelOptimizationIR")
```

## Example

Usage example on SERA evaluation:

```{r example}
library(ModelOptimizationIR)

library(dplyr)
library(rpart)
library(IRon)

data("NO2Emissions")

n <- nrow(NO2Emissions)
s <- sample(1:n, size = n*0.8)

formula <- LNO2 ~ .
train <- NO2Emissions %>% slice(s)
test <- NO2Emissions %>% slice(-s)

p.ctrl <- phi.control(train$LNO2)
steps <- seq(0, 1, 0.001)

model <- rpart(formula, train)
preds <- predict(model, test)


trues <- test$LNO2

phi <- phi(trues, p.ctrl)
sigma <- sigma(phi, steps)


sera_num <- sera_numerical(trues=trues, preds=preds, sigmas=sigma)
sera_num

sera_trap <- sera(trues=trues, preds=preds, phi.trues=phi)
sera_trap


```

## Citation

```bib
@misc{https://doi.org/10.48550/arxiv.2206.09991,
  doi = {10.48550/ARXIV.2206.09991},
  url = {https://arxiv.org/abs/2206.09991},
  author = {Silva, AnÃ­bal and Ribeiro, Rita P. and Moniz, Nuno},
  title = {Model Optimization in Imbalanced Regression},
  publisher = {arXiv},
  year = {2022},
  copyright = {Creative Commons Attribution 4.0 International}
}
```
